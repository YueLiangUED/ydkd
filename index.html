<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>新生专属校园卡</title>
    <link rel="stylesheet" href="css/reset.min.css">
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
<header>
    <div class="banner"></div>
    <div class="tab one">
        <div class="swiper-container1" style="margin-left: -3rem;">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img data-src="images//s1-1.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
                <div class="swiper-slide">
                    <img data-src="images//s1-2.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
                <div class="swiper-slide">
                    <img data-src="images//s1-3.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
            </div>
        </div>
        <div class="swiper-pagination">
            <ul class="clear" id="tabOne">
                <li>
                    200打一年<br>300打两年
                </li>
                <li>
                    爱@U卡18元档
                </li>
                <li>
                    爱@U卡48元档
                </li>
            </ul>
        </div>
        <div class="headerFooter">
            <a href="#jump">资费详情></a>
            <span id="btn">立即申请</span>
        </div>
    </div>
</header>
<section>
    <div class="tab two">
        <div class="swiper-container2">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img data-src="images//s2-1.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
                <div class="swiper-slide">
                    <img data-src="images//s2-2.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
                <div class="swiper-slide">
                    <img data-src="images//s2-3.png" class="swiper-lazy"/>
                    <div class="swiper-lazy-preloader"></div>
                </div>
            </div>
        </div>
    </div>
    <a name="jump"></a>
</section>
<footer></footer>
</body>
</html>
<script src="js/jquery-1.10.1.min.js"></script>
<script src="js/swiper-3.4.2.jquery.min.js"></script>
<script src="js/index.js"></script>
<script>
    var mySwiper2 = new Swiper ('.swiper-container2',{
        direction: 'horizontal',
        //loop: true,
        slideToClickedSlide:true,
        centeredSlides: true,
        watchSlidesProgress : true,
        watchSlidesVisibility : true,
        paginationClickable :true,
        touchReleaseOnEdges:true,
        autoplayDisableOnInteraction: false,
        lazyLoading: true,
        lazyLoadingInPrevNext: true,
        onTouchEnd: function (swiper) {
            var TR=swiper.isEnd,
                    TL=swiper.isBeginning,
                    xx = swiper.touches.startX - swiper.touches.currentX,
                    yy = swiper.touches.startY - swiper.touches.currentY;
            console.log('x'+xx,'y'+yy);
            if(TR && xx>yy && yy>=0) {
                swiper.slideTo(0);
            }else if(TL && xx<yy && yy<=0){
                swiper.slideTo(2);
            }
        }
    });
    var mySwiper1 = new Swiper ('.swiper-container1', {
        direction: 'horizontal',
        //autoplay : 10,
        //loop: true,
        pagination: '.swiper-pagination',
        slideToClickedSlide:true,
        watchSlidesProgress : true,
        watchSlidesVisibility : true,
        paginationClickable :true,
        effect : 'coverflow',
        slidesPerView: 2,
        centeredSlides: true,
        touchReleaseOnEdges:true,
        coverflow: {
            rotate: 0,
            stretch: 130,
            depth: 200,
            modifier: 2,
            slideShadows : false
        },
        autoplayDisableOnInteraction: false,
        lazyLoading: true,
        paginationType : 'custom',
        lazyLoadingInPrevNext: true,
        onInit: function(swiper){
            var $lis = $('#tabOne').find('li');
            $lis[0].className = 'act1';
        },
        onTransitionEnd: function(swiper){
            var $lis = $('#tabOne').find('li');
            if(swiper.activeIndex == 0){
                $lis[2].className = '';
                $lis[1].className = '';
                $lis[0].className = 'act1';
            }else if(swiper.activeIndex == 2){
                $lis[1].className = '';
                $lis[0].className = '';
                $lis[2].className = 'act3';
                //mySwiper1.stopAutoplay();
            }else if(swiper.activeIndex == 1){
                $lis[2].className = '';
                $lis[0].className = '';
                $lis[1].className = 'act2';
                //mySwiper1.startAutoplay();
            }
        },
        onTouchEnd: function (swiper) {
            var TR=swiper.isEnd,
                    TL=swiper.isBeginning;
            if(TR) {
                swiper.slideTo(0);
            }else if(TL){
                swiper.slideTo(2);
            }
        }
    });
    $('#tabOne').on('touchend',function (e) {
        //console.log(e.target.textContent);
        var $lis = $('#tabOne').find('li');
        if(e.target == $lis[0]){
            $lis[2].className = '';
            $lis[1].className = '';
            $lis[0].className = 'act1';
            mySwiper1.slideTo(0);
        }else if(e.target == $lis[1]){
            $lis[2].className = '';
            $lis[0].className = '';
            $lis[1].className = 'act2';
            mySwiper1.slideTo(1);
        }else if(e.target == $lis[2]){
            $lis[1].className = '';
            $lis[0].className = '';
            $lis[2].className = 'act3';
            mySwiper1.slideTo(2);
        }
    });
    mySwiper1.params.control = mySwiper2;
    mySwiper2.params.control = mySwiper1;
    var mySwiper3 = new Swiper('.swiper-container3',{
        control: [mySwiper1, mySwiper2],
    });
</script>